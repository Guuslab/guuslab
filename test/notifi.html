<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pushmeldingen</title>
  <link rel="manifest" href="important/site.webmanifest">
  <meta      
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent">
  <meta name="viewport" content="viewport-fit=cover, user-scalable=no">
</head>
<body>
  <button id="myButton">Klik hier</button>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(registration => {
          console.log('Service Worker geregistreerd:', registration);
        })
        .catch(error => {
          console.error('Fout bij het registreren van de Service Worker:', error);
        });
    }

    function askForNotificationPermission() {
      if (!('Notification' in window)) {
        console.error('De Notification API wordt niet ondersteund in deze browser');
        return;
      }

      setTimeout(() => {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            const notificationOptions = {
              body: 'Dit is meer tekst',
              data: { hallo: 'wereld' },
            };

            if ('Notification' in window && 'ServiceWorkerRegistration' in window) {
              notificationOptions.icon = 'logob.svg'; // Pad naar het .svg-bestand
              notificationOptions.badge = 'favo.ico'; // Pad naar het .ico-bestand
            }

            const notification = new Notification('Test! Test! Test!', notificationOptions);
          }
        });
      }, 10000); // Wacht 10 seconden voordat de melding wordt verzonden
    }

    const myButton = document.querySelector('#myButton');
    myButton.addEventListener('click', askForNotificationPermission);
  </script>
</body>
</html>
